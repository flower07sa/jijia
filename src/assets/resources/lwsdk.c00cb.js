(function e(t,i,n){function r(o,s){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){return r(t[o][1][e]||e)},u,u.exports,e,t,i,n)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r})({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=e("./errMsg"),r=e("./mockWeiXinApi"),a=e("./sdk_conf"),o=e("./Md5");var s=null;i.default=new class{constructor(){if(this.ip1="",this.ip2="",this.ip3="",this.ip4="",this.debug=!1,this.login="/Login/common",this.modify="/Login/modify",this.Config="/Config/common",this.time="/game/time",this.ConfigData={},this.Share="/Share/common",this.ShareList=[],this.Logcommon="/Log/common",this.BannerAd=null,this.VideoAd=null,this.userid=0,this.initFlag=0,this.videoSuccess=null,this.videoFail=null,this.videoError=null,this.shareStartTime=-1,this.shareInfo=null,this.imageCacheList=[],this.imageCacheMax=a.default.imageCacheMax,this.videoAdUnitIdIndex={},this.currentVideoId=0,this.bannerAdUnitIdIndex={},this.tryLogMaxCount=5,this.BannerAdList=[],this.bannerAdUnitIdIndex1=0,this.BANNERAD_MAX_COUNT=3,this.showTime=null,this.preloadBanner=!0,this.changeHost=!0,this.button=null,this.sysInfo=null,this.ratio=null,this.videoAd=null,this.isOnce=!0,this.initOk=!1,this.bannerAdWith=0,this.diversionData=null,this.tryPlaySetting=null,s)return s;s=this;var e="undefined"==typeof window?GameGlobal:window;if(!e)return this.error("\u65e0\u8fd0\u884c\u73af\u5883 window or gameGlobal"),null;let t=a.default.dev_platform;if("weixin"===t||"qq"===t||"toutiao"===t||e.navigator&&e.navigator.appName){console.warn("sdk platform is (wx\u3001qq\u3001tt), sdk version: "+a.default.llewan_sdk_version);let t="undefined"!=typeof wx?wx.getLaunchOptionsSync():{};console.warn("scene: ",t.scene),console.warn("path: ",s.queryToPath(t.query)),e.lwsdk=s,"undefined"!=typeof qq&&(e.wx=qq),"undefined"!=typeof tt&&(e.wx=tt)}}isInit(){return this.initOk||this.error("\u8bf7\u5728lwsdk\u521d\u59cb\u6210\u529f\u4e4b\u540e\u518d\u8c03\u7528\u8be5\u65b9\u6cd5\u3002"),this.initOk}clone(e){var t=JSON.stringify(e);return JSON.parse(t)}log(e,...t){if(this.debug){for(var i=Array.prototype.slice.apply(arguments),n="%c>>>DEBUG: ",r=0;r<i.length;r++)"boolean"==typeof i[r]&&(i[r]=String(i[r])),"string"==typeof i[r]||"number"==typeof i[r]?n+="%s  ":n+="%o  ";i.unshift("color: #008cc5;"),i.unshift(n),console.log.apply(console,i)}}error(e,...t){if(console.error.apply(console,arguments),this.debug){if(e&&e.code)throw new Error(JSON.stringify(e));throw new Error(`{code: 0,msg: ${e}}`)}}fitPlatform(){return"undefined"!=typeof wx||(this.error("\u5f53\u524dsdk\u4e3a(wx, tt, qq)\u7248\uff0c\u8bf7\u53d1\u5e03\u5230\u76f8\u5e94\u5e73\u53f0\u8fd0\u884c\u3002"),!1)}initData(e={gameAdIsNeed:!1},t){var i=this;if(i.checkUpdate(),i.fitPlatform()){var n=[];n.push(i.getServerConfig()),e&&e.gameAdIsNeed&&n.push(i.getDiversionData()),n.push(i.getShareData()),Promise.all(n).then(n=>{if(e.gameAdIsNeed&&i.log("Recommended wall ad data: ",n[1]),!i.preloadBanner||!i.getBannerAdUnitIdArr()||i.isBrowser())return i.log("preload banner warn: arg preloadBanner is false || no adUnitId || run in the browser"),void(t&&t(!0));i.preloadAllBannerAd();var r=0,a=setInterval(()=>{i.BannerAdList.length>0?(clearInterval(a),t&&t(!0)):(r+=50)>2e3&&(clearInterval(a),t&&t(!0))},50)}).catch(e=>{i.error("catch init error:",e),t&&t(!1)}),i.setWeChatListener()}}getServerConfig(){var e=this;return new Promise((t,i)=>{e.Post(e.ip2+e.Config,{},function(n){n&&1==n.c?(e.ConfigData=n.d,t(!0)):(e.error("sdk get server config fail",n),i(!1))})})}getShareData(){var e=this;return new Promise(t=>{e.Post(e.ip2+e.Share,{},function(i){i&&1==i.c?e.ShareList=i.d:e.log("sdk init share info fail",i),t(!0)})})}setWeChatListener(){let e=this;e.fitPlatform()&&(wx.onHide(function(){e.uploadSceneEvent(null,"\u9690\u85cf\u5c0f\u6e38\u620f\u5230\u540e\u53f0",null)}),wx.onShow(function(){e.log("sdk on show");var t=(new Date).getTime();if(e.shareStartTime>0){let n=e.shareInfo;var i={uid:e.userid,share_id:n.sysid,type:n.type};let r=n.successCallback;1==e.getConfig(4).cityLimit?(r&&r(),e.shareTypeClickStatusLog(i.share_id,i.type,1)):t/1e3-e.shareStartTime>=a.default.share_time_limit?(r&&r(),e.shareTypeClickStatusLog(i.share_id,i.type,1)):(n.failCallback?n.failCallback():n.cancelCallback&&n.cancelCallback(),e.shareTypeClickStatusLog(i.share_id,i.type,2)),e.shareStartTime=-1,e.shareInfo=null}if(e.tryPlaySetting){let t=e.tryPlaySetting,i=t.adItem;e.log(`try play time: ${i.second}`),Date.now()-t.startTime>=1e3*i.second?(wx.showLoading(),e.tryPlayLog(i.iconid,function(){wx.hideLoading(),e.setTryPlayStatus(i.config_id,i.iconid),t.tryPlaySuccess&&t.tryPlaySuccess(i.gold),e.tryPlaySetting=null},function(){wx.hideLoading(),t.tryPlayFail&&t.tryPlayFail("\u4f60\u5df2\u8bd5\u73a9\u8fc7\u8be5\u6e38\u620f\u4e0d\u80fd\u91cd\u590d\u83b7\u5f97\u5956\u52b1"),e.tryPlaySetting=null})):(t.tryPlayFail&&t.tryPlayFail("\u8bd5\u73a9\u65f6\u95f4\u4e0d\u8db3"),e.tryPlaySetting=null)}}))}_postShareEnter(e){let t=e.query;t.uid&&(t.share_uid=e.query.uid,t.uid=this.userid,this.commonLog("ShareEnter",e),this.shareTypeEnterLog(e))}logServer(){var e=this;let t=e.getUser(),i=t?t.uid:null;if(i&&0===e.initFlag){e.userid=i;var n=wx.getLaunchOptionsSync();let t=n.query;var r=t.gdt_vid,a=t.weixinadinfo;r&&(e.setItem("gdt_vid",r),e.setItem("weixinadinfo",a)),t.share_id&&this._postShareEnter(n),wx.onShow(e=>{this._postShareEnter(e)}),wx.getSystemInfo({success(r){var a=r;a.uid=i,a.share_uid=t.share_uid,a.scene=n.scene,a.source_id=t.source_id,a.source_id2=t.source_id2,a.special_flag=t.special_flag,a.reward_flag=t.reward_flag,e.setItem("deviceModel",r.model),wx.getNetworkType({success(t){a.network_type=t.networkType,e.log("sdk LoginData",a),e.commonLog("LoginData",a,()=>{e.initFlag=1})}})}})}}init({game:e,version:t,dev_platform:i,debug:n,success:o,fail:s,changeHost:l=!0,tryLogMaxCount:d=5,gameAdIsNeed:u=!0,preloadBanner:h=!0,BANNERAD_MAX_COUNT:c=3,loginIsNeed:f=!0,bannerAdWith:g=300}){let p=this,m=Date.now();if(console.warn("SDK params:",arguments&&arguments[0]||void 0),!arguments[0])return void console.error("sdk init no params");if(!e||!t||!i)return void console.error(`\u4ee5\u4e0b\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a game:${e}  version:${t}  dev_platform:${i}`);p.debug=!!n;let y=p.isBrowser();if(p.changeHost=!y&&l,p.log("preloadBanner\u7684\u503c\u4e3a\uff1a",h),p.preloadBanner=h,p.bannerAdWith=Math.max(g,300),p.tryLogMaxCount=d,p.BANNERAD_MAX_COUNT=Math.min(c,10),p.init_api(),a.default.game=e,a.default.version=t,a.default.dev_platform=i,y&&r.default(),p.fitPlatform()){let e=p.getUser(),t=!1,i=!1,n=null,r=!1,a=function(){t&&i&&(r?(p.log("sdk init suc"),console.warn("lwsdk\u521d\u59cb\u5316\u8017\u65f6",Date.now()-m+"ms"),p.initOk=!0,o(n)):s(r),p.logServer())};!f||e&&e.uid?(f?p.log("sdk enter game"):p.log("need not login"),p.initData({gameAdIsNeed:u},o=>{i=!0,t=!0,r=o,n=f?e:{},a()})):(p.WxLogin(e=>{t=!0,n=e,a()}),p.initData({gameAdIsNeed:u},e=>{i=!0,r=e,a()}))}}WxLogin(e){var t=this;if(t.fitPlatform()){let n=wx.getLaunchOptionsSync().query;var i={success(i){var r={referee_id:n.uid,source_id:n.source_id,source_id2:n.source_id2,share_id:n.share_id,special_flag:n.special_flag,code:t.isTouTiao()?i.anonymousCode:i.code};t.log("sdk registe param",r),t.Post(t.ip1+t.login,r,function(i){1==i.c?(t.setItem("userinfo",JSON.stringify(i.d)),e(i.d)):(t.log("sdk \u767b\u5f55\u63a5\u53e3\u8bf7\u6c42\u5931\u8d25",i),e(null),wx.showToast({title:"\u767b\u5f55\u5931\u8d25\u8bf7\u91cd\u8bd51"}))})},fail(){wx.showToast({title:"\u767b\u5f55\u5931\u8d25\u8bf7\u91cd\u8bd52"}),e(!1)}};if(t.isBrowser()){let i={uid:"noid_",openid:"openid",nickName:"BrowserDev",avatarUrl:null,gender:"3",country:"",regTime:"1581522623",city:"",province:"",time:1608278642,scene_flag:1,scene_flag_test:null,token:"",isNew:!1};return t.log("lwsdk \u6d4f\u89c8\u5668\u6a21\u62df\u767b\u5f55\u6210\u529f\u3002",i),t.setItem("userinfo",JSON.stringify(i)),void e(i)}t.isTouTiao()&&(i.force=!1),wx.login(i)}}WxAuthLoginOpacity(e,t){var i=this;if(i.fitPlatform()){let l=i.getItem("wxauth");if(l)return;let d=wx.getLaunchOptionsSync().query;var n=d.share_uid,r=d.source_id,a=d.source_id2,o=d.share_id,s=d.special_flag;i.button?i.button.show():wx.getSystemInfo({success(d){var u=750/d.screenWidth;if(e)h=e.width/u,c=e.height/u,f=e.left/u,g=e.top?e.top/u:e.bottom?d.screenHeight-e.bottom/u-c:0;else var h=120,c=40,f=d.screenWidth/2-h/2,g=d.screenHeight/2-c/2;i.button=wx.createUserInfoButton({type:"text",text:"\u83b7",style:{left:f,top:g,width:h,height:c,lineHeight:c,backgroundColor:"#00000000",color:"#00000000",textAlign:"center",fontSize:16,borderRadius:4}}),i.button.onTap(e=>{l?t&&t(i.getUser()):(wx.showToast({title:"\u767b\u5f55\u4e2d...",icon:"loading",duration:8}),i.log("\u6388\u6743\u6309\u94ae",e),e.errMsg.indexOf("deny")>-1||e.errMsg.indexOf("denied")>-1?t&&t(null):wx.getSetting({success(l){if(l.authSetting["scope.userInfo"]){i.setItem("wxauth",1),i.log("sdk user authed");var d={rawData:e.rawData,iv:e.iv,encryptedData:e.encryptedData,signature:e.signature,referee_id:n,source_id:r,source_id2:a,share_id:o,special_flag:s};i.Post(i.ip1+i.modify,d,function(e){i.log("sdk update user info ",e),1==e.c?(i.setItem("userinfo",JSON.stringify(e.d)),wx.hideToast(),i.button.hide(),i.userid=e.d.uid,t&&t(e.d)):(i.log(" sdk \u767b\u5f55\u63a5\u53e3\u8bf7\u6c42\u5931\u8d25",e),wx.showToast({title:"\u767b\u5f55\u5931\u8d25\u8bf7\u91cd\u8bd53"}))})}else t&&t(!1)}}))}),i.button.show()}})}}init_api(){let e="prod"===a.default.env?"prod":"test";"prod"===e&&this.changeHost&&(e="anonymous");for(let t=1;t<=4;t++){let i=`ip${t}`;this[i]=a.default.env_apis[e][i]}this.log("sdk ip1",this.ip1),this.log("sdk ip2",this.ip2),this.log("sdk ip3",this.ip3),this.log("sdk ip4",this.ip4)}getShareByWeight(e){let t=this,i=this.ShareList;if(!i||0===i.length)return t.error("Did not find the shared configured in the background"),a.default.default_shareInfo;if(i.length>0){for(var n=[],r=0;r<i.length;r++){let t=i[r];e==t.type&&(t.weight=parseInt(t.weight),n.push(t))}var o=[];for(r=0;r<n.length;r++)for(var s=0;s<n[r].weight;s++)o.push(r);var l=n[o[t.randomIndex(o)]];return-1!=l.title.indexOf("&nickName")&&(l.title=l.title.replace(/&nickName/g,t.getUser().nickName)),JSON.parse(JSON.stringify(l))}}getShareInfo(e){let t=this,i=e.specialFlag||0,n=e.rewardFlag||0;var r=t.getShareByWeight(e.type||0);e.title&&(r.title=e.title),e.imageUrl&&(r.imageUrl=e.imageUrl);let a=r.sysid,o=r.type,s=t.userid;r.query?r.query+=`${e.query}&type=${o}&share_id=${a}&uid=${s}&special_flag=${i}&reward_flag=${n}`:(r.query=`share_id=${a}&type=${o}&uid=${s}&special_flag=${i}&reward_flag=${n}`,e.query&&(r.query+=`&${e.query}`)),e.success&&(r.successCallback=e.success),e.fail&&(r.failCallback=e.fail),e.cancel&&(r.cancelCallback=function(){e.cancel(),t.log("share cancel")});var l=(new Date).getTime();return t.shareStartTime=l/1e3,t.shareInfo=r,t.shareTypeClickLog(r.sysid,r.type),r}onShareAppMessage(e){var t=this;if(t.fitPlatform()){wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]});var i=function(){return(e=e||{}).type=e.type||0,t.getShareInfo(e)};wx.onShareAppMessage&&wx.onShareAppMessage(i),wx.onShareTimeline&&wx.onShareTimeline(i)}}shareAppMessage(e){if(this.fitPlatform()){(e=e||{}).type=e.type||1;let t=this.getShareInfo(e);wx.shareAppMessage(t)}}httpRequest(e,t,i=null,n){var r=this,a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState)if(a.status>=200&&a.status<400){var t=a.responseText;if(r.log("Network request returned, url: ",e," response: ",t),t){r.changeHost&&(t=t.replace(/https:\/\/res.g.llewan.com/g,r.ip4));var i=JSON.parse(t);n(i)}else r.log("sdk return null",e),n(null)}else r.log("sdk request failed",e),n(null)},a.onabort=a.onerror=a.ontimeout=function(){r.log("sdk request failed"),n(null)},r.log("request, url: "+e),a.open(t,e,!0),"POST"==t?(a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(i)):a.send()}wxRequest(e,t,i=null,n){let r=this,a="GET"===t?"application/x-www-form-urlencoded":"application/json";wx.request({url:e,data:i||"",method:t,timeout:6e4,dataType:"text",header:{"content-type":a},success(t){if(t.statusCode>=200&&t.statusCode<400){var i=t.data;if(r.log("wxRequest: ",e,"response: ",i),i){r.changeHost&&(i=i.replace(/https:\/\/res.g.llewan.com/g,r.ip4));var a=JSON.parse(i);n(a)}else r.log("sdk wxRequest no data"),n(null)}else r.log("sdk wxRequest fail"),n(null)},fail(e){r.log("sdk wxRequest fail",e),n(null)}})}Get(e,t,i){if(t){t.game=a.default.game,t.version=a.default.version,t.dev_platform=a.default.dev_platform,t.llewan_sdk_version=a.default.llewan_sdk_version;var n=(new Date).getTime();t.ts=n;var r,s="";for(var l in this.getUser()&&null!=this.getUser()&&(s=this.getUser().token),r=wx.getLaunchOptionsSync().query.source_id,t.sign=o.default.hashStr(n.toString().substr(9,4)+a.default.game.substr(0,2)+a.default.version.substr(0,1)+a.default.md5_key),e+="?",t){let i=t[l];e+=`${l}=${"object"==typeof i&&null!==i?JSON.stringify(i):i}&`}e+=`token=${s}&`,e+=`source_id=${r}&`}this.isBrowser()?this.httpRequest(e,"GET",null,i):this.fitPlatform()&&this.wxRequest(e,"GET",null,i)}Post(e,t,i){t.game=a.default.game,t.version=a.default.version,t.dev_platform=a.default.dev_platform,t.llewan_sdk_version=a.default.llewan_sdk_version;var n,r=(new Date).getTime(),s="";if(this.getUser()&&null!=this.getUser()&&(s=this.getUser().token),n=wx.getLaunchOptionsSync().query.source_id,t.ts=r,t.sign=o.default.hashStr(r.toString().substr(9,4)+a.default.game.substr(0,2)+a.default.version.substr(0,1)+a.default.md5_key),this.isBrowser()){let r="";for(let e in t){let i=t[e];r+=`${e}=${l="object"==typeof i&&null!==i?JSON.stringify(i):i}&`}r+=`token=${s}&`,r+=`source_id=${n}&`,this.httpRequest(e,"POST",r,i)}else if(this.fitPlatform()){for(let e in t){let i=t[e];var l="object"==typeof i&&null!==i?JSON.stringify(i):i;t[e]=l}t.token=s,void 0!==n&&(t.source_id=n),this.wxRequest(e,"POST",t,i)}}checkUpdate(){var e=this;if(e.fitPlatform()&&wx.getUpdateManager){const t=wx.getUpdateManager();t.onCheckForUpdate(function(t){e.log("sdk onCheckForUpdate",t.hasUpdate)}),t.onUpdateReady(function(){e.log("sdk onUpdateReady"),t.applyUpdate()}),t.onUpdateFailed(function(){e.log("sdk new version download fail")})}}getConfig(e){let t=`config${e}`;return this.ConfigData&&this.ConfigData[t]?JSON.parse(this.ConfigData[t]):(console.error(`no config${e}, Please check if the background is configured or the network request is normal`),null)}createImage(e,t,i=null,n=!0){var r=this;if("undefined"==typeof cc)return r.error("only support cc"),void(i&&i(null));var a,o=r.imageUrl2SpriteFrame(t);return o?(e.spriteFrame=o,void(i&&i(e.spriteFrame))):(r.fitPlatform()?a=wx.createImage():window.navigator&&(a=new Image).setAttribute("crossOrigin","anonymous"),a?(a.onload=function(){var o=new cc.Texture2D;o.initWithElement(a),o.handleLoadedTexture();var s=new cc.SpriteFrame(o);if(e.spriteFrame=s,n){var l={url:t,spriteFrame:s};r.imageCacheList.length>r.imageCacheMax-1&&r.imageCacheList.shift(),r.imageCacheList.push(l)}i&&i(e.spriteFrame)},a.onerror=function(){i&&i(null)},void(a.src=t)):(r.error("new image fail"),void(i&&i(null))))}imageUrl2SpriteFrame(e){var t=this.imageCacheList.findIndex(function(t){return t.url===e});return t>-1&&this.imageCacheList[t].spriteFrame||null}getUser(){var e=this.getItem("userinfo");return e?JSON.parse(e):null}setItem(e,t){"undefined"!=typeof cc?cc.sys.localStorage.setItem(e,t):"undefined"!=typeof Laya?Laya.LocalStorage.setItem(e,t):"undefined"!=typeof localStorage&&localStorage.setItem(e,t)}getItem(e){return"undefined"!=typeof cc?cc.sys.localStorage.getItem(e):"undefined"!=typeof Laya?Laya.LocalStorage.getItem(e):"undefined"!=typeof localStorage?localStorage.getItem(e):void 0}removeItem(e){"undefined"!=typeof cc?cc.sys.localStorage.removeItem(e):"undefined"!=typeof Laya?Laya.LocalStorage.removeItem(e):"undefined"!=typeof localStorage&&localStorage.removeItem(e)}getServerTime(e,t){this.Post(this.ip2+this.time,{},function(i){i&&1==i.c?1===i.c&&e&&e(1e3*i.nowTime):t&&t(null)})}formatTime(e,t,i){var n={};return n.M=e.getMonth()+1,n.H=e.getHours(),n.s=e.getSeconds(),n.m=e.getMinutes(),n.Y=e.getFullYear(),n.D=e.getDate(),n.d=e.getDay(),n.d=this.formatZero(n.d),n.H=this.formatZero(n.H),n.M=this.formatZero(n.M),n.D=this.formatZero(n.D),n.s=this.formatZero(n.s),n.m=this.formatZero(n.m),"date"==t?i.indexOf(":")>-1?(n.Y=n.Y.toString().substr(2,2),n.Y+"/"+n.M+"/"+n.D):i.indexOf("/")>-1?n.Y+"/"+n.M+"/"+n.D:i.indexOf("-")>-1?n.Y+"-"+n.M+"-"+n.D:i.indexOf("-")>-1?n.Y+"-"+n.M+"-"+n.D:n.Y+n.M+n.D:i.indexOf(":")>-1?(n.Y=n.Y.toString().substr(2,2),n.Y+"/"+n.M+"/"+n.D+" "+n.H+":"+n.m+":"+n.s):i.indexOf("/")>-1?n.Y+"/"+n.M+"/"+n.D+" "+n.H+"/"+n.m+"/"+n.s:i.indexOf("-")>-1?n.Y+"-"+n.M+"-"+n.D+" "+n.H+"-"+n.m+"-"+n.s:i.indexOf("-")>-1?n.Y+"-"+n.M+"-"+n.D+" "+n.H+"-"+n.m+"-"+n.s:n.Y+n.M+n.D+n.H+n.m+n.s}formatZero(e){return(e=e.toString()).length<2&&(e="0"+e),e}getUploadRowCount(){let e=this.getConfig(4);return e?e.uploadRowCount:a.default.default_upload_row_count}getUploadInterval(){let e=this.getConfig(4);return e?e.uploadInterval:a.default.default_upload_interval}uploadSceneEvent(e,t,i){var n=this.getItem("lastUploadDataTime"),r=(new Date).getTime()/1e3;this.log("nowTime:"+r+";lastUploadDataTime:"+n),n||(n=r,this.setItem("lastUploadDataTime",n));let a=this.getUploadRowCount(),o=this.getUploadInterval();if(!e){let t=this.getItem("eventData");t&&(e=JSON.parse(t))}e&&(e.data.length>=a?t="\u6570\u636e\u7d2f\u8ba1("+a+"\u6761)\u4e0a\u4f20":r-n>=o&&(t="\u5b9a\u65f6("+o+"\u79d2)\u4e0a\u4f20"),this.log(t),this.uploadData(e,t,i))}uploadData(e,t,i){var n=(new Date).getTime()/1e3;e.upload_event=t,this.log("uploadData :",e),this.commonLog("SceneEventLog",e,e=>{i&&i(e)}),this.removeItem("eventData"),this.setItem("lastUploadDataTime",n)}isInteger(e){return Math.floor(e)===e}sendEvent({eventId:e,eventType:t,sceneName:i,callback:n}){this.setSceneEvent(i,t,e,void 0,n)}setSceneEvent(e,t,i,n,r){if(!this.fitPlatform())return;let a=this.getUser();var o=a?a.uid:null;if(o){var s=this.getItem("eventData"),l=this.getItem("deviceModel"),d={},u=[];s&&(u=(d=JSON.parse(s)).data);var h={uid:o,scene_name:e,event_id:i,event_name:t,params:JSON.stringify(n),device_model:l,event_time:this.formatTime(new Date,"time","-")};u.push(h),d.data=u,this.setItem("eventData",JSON.stringify(d)),this.uploadSceneEvent(d,"",r)}}wxSendEvent({branchId:e,eventType:t=2,branchDim:i}){if(!this.fitPlatform())return;if(!e)return void this.error("branchId",n.default[1003]);if(!wx.reportUserBehaviorBranchAnalytics)return void this.error("wx.reportUserBehaviorBranchAnalytics",n.default[1004],wx.getSystemInfoSync());var r={branchId:e,eventType:t};this.log("wx.reportUserBehaviorBranchAnalytics is ok",r);let a=Number(i);a&&(!this.isInteger(i)||a<1||a>100?this.error("branchDim","\u4ec5\u652f\u63011-100\u7684\u6574\u6570"):r.branchDim=String(a)),wx.reportUserBehaviorBranchAnalytics(r)}getButtonConfig2(e,t=0){var i=this.getConfig(3);if(i.length>0){for(var n=0;n<i.length;n++){var r=i[n];if(r.key===e){var a=r.date_list;for(n=0;n<a.length;n++){var o=a[n],s=(new Date).getTime(),l=this.formatTime(new Date,"date","");if(s>=o.s_time&&s<=o.e_time){if("mix"===r.type){let i=o.data,r=i.start;var d=e+":"+l+":"+n+":count",u=this.getItem(d)||1;this.log(e+"->"+d,u);var h=e+":"+l+":"+n+":start:"+r.type+":"+u,c=this.getItem(h)||0;return this.log(e+"->"+h,c),Number(c)>=Number(r.count)?this.nextConfig(e,l,i,r.next,n,u,t):(1==t?(c++,this.setItem(h,c),r.left_count=r.count-c,r.use_count=c):(r.left_count=r.count-c,r.use_count=c),r)}return o}}}}return null}return null}nextConfig(e,t,i,n,r,a,o){if("end"==n)return null;let s=i[n];var l=e+":"+t+":"+r+":"+n+":"+s.type+":"+a,d=this.getItem(l);if(this.log("nextConfig->"+l,d),d?d+=1:d=1,d>s.count){if("start"==s.next){var u=e+":"+t+":"+r+":count";a+=1,this.setItem(u,a)}return this.nextConfig(e,t,i,s.next,r,a,o)}return 1==o&&(this.setItem(l,d),s.left_count=s.count-d,s.use_count=d),s}navigateToMiniProgram(e,t=null,i=null,n=null){if(this.fitPlatform())return this.isTouTiao()?(console.warn("tt is not support navigateToMiniProgram"),void(tt.showMoreGamesModal&&tt.showMoreGamesModal({appLaunchOptions:[{appId:e.app_id,query:e.path,extraData:{}}],success(e){console.log("success",e.errMsg)},fail(e){console.log("fail",e.errMsg)}}))):void wx.navigateToMiniProgram({appId:e.app_id,path:e.path,extraData:e.extra,envVersion:e.env_version,success:e=>{t&&t(e)},fail:e=>{this.log(e),i&&i(e)},complete:()=>{}})}shareOrVideo({buttonKey:e,shareType:t=1,autoShare:i=!0,success:n,fail:r,onSuccess:a,onFail:o}){var s=this;if(n=n||a||function(){},r=r||o||function(){},console.log("<<<<<<<!self.fitPlatform()",!s.fitPlatform()),s.fitPlatform()){if(console.log("<<<<<<<!self.isInit()",!s.isInit()),s.isInit()){console.log(e);var l=s.getButtonConfig2(e,1);console.log("<<<<<<<d",l);var d=function(){s.shareAppMessage({type:t,query:"",success:function(){n("share")},cancel:function(){r("share")}})},u=s.getVideoAdUnitId(e);if(console.log("<<<<<<<<<<<<<videoAdUnitId",u),!u)return s.error("can not find videoAd UnitId"),void d();s.videoSuccess=function(){s.videoCloseLog(s.currentVideoId,1),n("video")},s.videoFail=function(){s.videoCloseLog(s.currentVideoId,2),r("video")},s.videoError=function(){s.videoCloseLog(s.currentVideoId,2),i?d():r("video")};var h=s.createVideoAd(u);h.load().then(()=>h.show()),s.videoShowLog(s.currentVideoId)}}else n("video")}createVideoAd(e){return this.videoAd||this.createRewardedVideoAd(e)}createRewardedVideoAd(e){let t=this;if(t.fitPlatform()){let i=wx.createRewardedVideoAd({adUnitId:e});return t.isOnce&&(t.isOnce=!1,i.onLoad(function(e){t.log("sdk VideoAd onLoad:",e)}),i.onClose(function(e){e&&e.isEnded||void 0===e?t.videoSuccess():t.videoFail()}),i.onError(function(){wx.showToast({title:"\u4eca\u65e5\u89c6\u9891\u5df2\u4e0a\u9650\uff0c\u660e\u65e5\u518d\u6765\uff01",icon:"none"}),t.videoError&&t.videoError()})),this.videoAd=i,i}}getVideoAdUnitId(e){var t=this.getConfig(5);if(!t)return null;var i=null;for(var n in t)if(t[n].location===e){i=t[n];break}if(!i)return this.error(`no video config of location ${e}`),null;if(this.currentVideoId=i.video_id,"1"===i.continued_refresh)return i.adunit_id[0];if(!this.videoAdUnitIdIndex.hasOwnProperty(e))return this.videoAdUnitIdIndex[e]=0,i.adunit_id[0];var r=this.getNewArrayIndex(this.videoAdUnitIdIndex[e],i.adunit_id.length);return this.videoAdUnitIdIndex[e]=r,i.adunit_id[r]}getNewArrayIndex(e,t){return e<t-1?++e:0}videoShowLog(e){var t={video_id:e,uid:this.getUser().uid};this.commonLog("VideoClick",t)}videoCloseLog(e,t){var i={video_id:e,uid:this.getUser().uid,status:t};this.commonLog("VideoStatus",i)}shareTypeClickLog(e,t){}shareTypeClickStatusLog(e,t,i){}shareTypeEnterLog(e){}commonLog(e,t,i=null){var n=this,r=n.tryLogMaxCount,a=0,o=function(e,t){a>=r||(a++,n.log(e+"ad data try to report",JSON.stringify(t)),n.Post(n.ip3+n.Logcommon,{log_type:e,data:JSON.stringify(t)},function(n){i&&i(n),n&&1==n.c||setTimeout(()=>{o(e,t)},500)}))};o(e,t)}getButtonVisible(e){if(!this.fitPlatform())return!0;if(!this.isInit())return!1;let t=this.getConfig(1);if(t&&0!=t[e]){var i=this.getConfig(7);if(!i)return this.log("\u9650\u5236\u914d\u7f6e\u4e0d\u5b58\u5728"),!0;let t=i.data;if("string"==typeof t&&(t=JSON.parse(t),i.data=t),!t||!t[e])return this.log("\u4e0d\u662f\u9650\u5236\u7c7b\u578b\u7684\u5f00\u5173"),!0;var n=wx.getLaunchOptionsSync();return n?!(this.checkScene(e,i,n.scene)||!this.checkPath(e,i,n.query)||this.checkCity(e,i)):(this.log("can not get lauch options"),!0)}return!1}checkScene(e,t,i){return 0==t.data[e].scene_switch?(this.log("scene_switch is off"),!1):t.scenedata.indexOf(i)>-1?(this.log("scene value is on the blacklist"),!0):(this.log("scene value is not on the blacklist"),!1)}checkPath(e,t,i){return 0==t.data[e].url_switch?(this.log("url_switch is off"),!0):t.urldata.indexOf(this.queryToPath(i))>-1?(this.log("url is in the whitelist"),!0):(this.log("url is not in the whitelist"),!1)}checkCity(e,t){return 0==t.data[e].city_switch?(this.log("city_switch is off"),!1):1==t.cityLimit?(this.log("city_ip is on the blacklist"),!0):(this.log("city_ip is not on the blacklist"),!1)}queryToPath(e){if(!e)return null;var t="?";for(var i in e)t+=`${i}=${e[i]}&`;return"?"==t?null:(t.lastIndexOf("&")>0&&(t=t.substr(0,t.length-1)),t)}isTouTiao(){return"undefined"!=typeof tt}isWeiXin(){return"undefined"!=typeof wx&&"undefined"==typeof tt&&"undefined"==typeof qq}isBrowser(){return!!(window&&window.navigator&&window.navigator.appName)}setTryPlayStatus(e,t){if(!this.diversionData)return this.error("sdk no diversionData, please check"),null;let i=this.diversionData.data;for(var n in i){let a=i[n];if(a.config_id==e)for(var r in a.icondata){let e=a.icondata[r];if(e.iconid==t)return e.try_status=1,void this.log("\u4fee\u6539icondata\u7684try_status\u72b6\u6001\u6210\u529f",t,e.try_status)}}}getDiversionData(){var e=this;return new Promise((t,i)=>{e.Get(e.ip4+"/uploadfile/advertis/"+a.default.game+".json",null,function(n){if(n&&"object"==typeof n){for(var r=e.formatDiversionData(n),a=0;a<r.length;a++){let e=r[a];if(e&&e.data)for(var o=0;o<e.data.length;o++)for(var s in e)"data"!=s&&(e.data[o][s]=e[s])}e.diversionData=r,t(!0)}else i(!1)})})}formatDiversionData(e){var t=this;if(e&&"object"==typeof e){var i=e.configData,n=e.iconData,r=e.locationConfig,a=e.locationData,o=[];i=i.filter(e=>(o.push(Number(e.config_id)),!0));for(var s=0;s<a.length;s++){var l=a[s].location_id,d=r.filter(e=>e.gal_id==l&&o.includes(Number(e.gac_id))),u=[];[4,5,7].includes(Number(a[s].strategy))?d.forEach(e=>{var r=e.gac_id,o=i.filter(e=>e.config_id==r)[0];o&&1!=a[s].gc_status&&(o.gold=0);var l=n&&n.filter(e=>e.gac_id==r)||[];if(l&&0!==l.length)l.forEach(e=>{var i={};t.extend(i,o,e),u.push(i)});else{var d={};t.extend(d,o),u.push(d)}}):d.forEach(e=>{var r=e.gac_id,o=i.filter(e=>e.config_id==r)[0];o&&1!=a[s].gc_status&&(o.gold=0);var l=n&&n.filter(e=>e.gac_id==r)||[],d={};t.extend(d,o),d.icondata=l,u.push(d)}),d=u,a[s].data=d}return a}t.error("no export ad config, please check")}extend(e,...t){for(var i=Array.prototype.slice.call(arguments,1),n=0;n<i.length;n+=1){var r=i[n];if(r&&"object"==typeof r)for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])}return e}getDiversionDataByKey(e){if(!e)return this.error("error in lwsdk.getDiversionDataByKey,positionKey \u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a"),null;if(!this.diversionData)return this.error("\u6ca1\u6709\u52a0\u8f7d\u5230\u540e\u53f0\u914d\u7f6e\u7684\u5bfc\u6d41\u4f4d\u5e7f\u544a\u6570\u636e\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u6216\u540e\u53f0\u662f\u5426\u5df2\u914d\u7f6e\u3002"),null;for(const t in this.diversionData)if(this.diversionData.hasOwnProperty(t)){const i=this.diversionData[t];if(i.key===e)return i}return null}getAdDataToShow({positionKey:e,showCount:t,index:i}){if(!e)return this.error("error in lwsdk.getAdDataToShow,positionKey \u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a"),null;var n=this.getDiversionDataByKey(e);if(!n||!n.data||0===n.data.length)return this.error(e+"\u5bf9\u5e94\u7684data\u6570\u636e\u4e0d\u5b58\u5728,\u6216\u8005\u56e0\u4e3a\u6700\u9ad8\u7248\u672c\u53f7\u9650\u5236\u6216\u7740\u7248\u672c\u53f7\u4e0d\u5bf9\u5e94\u95ee\u9898\u5bfc\u81f4data\u4e3a\u7a7a\u6570\u7ec4\uff0cerror in getAdDataToShow"),null;if("number"!=typeof t||"number"!=typeof i)return this.error("showCount\u6216index\u53c2\u6570\u5fc5\u987b\u662fnumber\u7c7b\u578b"),null;var r=this.clone(n),a=null,o=Number(r.strategy),s=r.display_type,l=r.data;0===t&&(t=l.length),a=this.resortByRule(l,t,i,o,s);var d=n.location_id,u=a.data.map(e=>e.config_id),h=a.data.map(e=>e.iconid);return a.gc_status=n.gc_status,a.display_type=n.display_type,this.advertisingLog(d,u,h,1),this.log(a),a}resortByRule(e,t,i,n,r){let a,o=this;if(!e)return o.error("sort data is null"),null;switch(n){case 1:a=o.sortByWeight(e,"weight");break;case 2:case 3:case 6:a=o.sortByOrder(e);break;case 4:a=o.sortByOrderAndWeight(e,"icon_weight");break;case 5:a=o.sortByWeightAndOrder(e,"icon_weight");break;case 7:a=o.sortByRandom(e);break;default:a=null}return a?o.getEnoughData(null,a,t,i,n,r):(o.log(`Do not exist sort rule ${n}`),null)}getEnoughData(e,t,i,n,r,a){if(e=e||[],i<=0)return{data:e,index:n,strategy:r};var o=0;let s=n+i,l=s<=t.length,d=l?s:t.length;for(var u=n;u<d;u++){var h=t[u];2==a&&(h=this.setIconDataToItem(h,r)),e.push(h),o++}return i-=o,l?(n+=o)===t.length&&(n=0):n=0,this.getEnoughData(e,t,i,n,r,a)}setIconDataToItem(e,t){let i;if(1==t||2==t?i=this.getOneIconDataByWeight(e.icondata):3==t?i=this.getOneIconDataByWeightAndTryStatus(e.icondata):6==t&&(i=this.getOneIconDataByWeightorder(e.icondata)),i)for(var n in i)e[n]=i[n];return e}sortByRandom(e){if(!e||0===e.length)return null;for(var t=this.clone(e),i=new Array,n=null;t.length>0;){let e;if(n){var r=t.filter((e,t)=>(e.tempIndex=t,e.appid!=n));e=r.length>0?r[this.randomIndex(r)].tempIndex:this.randomIndex(t)}else e=this.randomIndex(t);n=t[e].appid,i.push(t[e]),t.splice(e,1)}return i}randomIndex(e){return Math.floor(Math.random()*e.length+1)-1}sortByOrder(e){return e?e.sort(function(e,t){return e.sort-t.sort}):null}sortByWeight(e,t){return e?e.sort(function(e,i){return i[t]-e[t]}):null}sortByOrderAndWeight(e,t){return e?(e.sort(function(e,t){var i=1;return e.sort<t.sort&&(i=-1),i}),e.sort(function(e,i){var n=1;return e.sort==i.sort&&e[t]>i[t]&&(n=-1),n}),e):null}sortByWeightAndOrder(e,t){return e?(e.sort(function(e,i){var n=1;return e[t]>i[t]&&(n=-1),n}),e.sort(function(e,i){var n=1;return e[t]==i[t]&&e.sort<i.sort&&(n=-1),n}),e):null}getOneIconDataByWeight(e){if(!e)return null;var t=[];for(var i in e)for(var n=0;n<e[i].icon_weight;n++)t.push(e[i]);return 0===t.length?null:this.getRandomValue(t)}getOneIconDataByWeightorder(e){if(!e)return null;var t=this.sortByWeight(e.slice(0),"icon_weight");return 0===t.length?null:t[0]}getOneIconDataByWeightAndTryStatus(e){if(!e)return null;var t=[];for(var i in e)for(var n=0;n<e[i].icon_weight;n++)t.push(e[i]);if(0===t.length)return null;var r=t.filter(e=>!e.try_status);return r.length>0?this.getRandomValue(r):this.getRandomValue(t)}getRandomValue(e){return e[this.randomIndex(e)]}randomSort(e){e.sort(()=>Math.random()>.5?-1:1)}tryPlayLog(e,t,i){var n=this;n.Post(n.ip2+"/adConfig/addtry",{uid:n.getUser().uid,icon_id:e},function(e){n.log(e),e&&1===e.c?t&&t(!0):i&&i()})}advertisingLog(e,t,i,n){let r="";switch(n){case 1:r="AdvertisingExposure";break;case 2:r="AdvertisingClick";break;case 3:r="AdvertisingJump"}let a={location_id:e,uid:this.getUser().uid||"",config_id:t,icon_id:i};this.commonLog(r,a)}advertisingExposureLog(e,t,i){this.advertisingLog(e,t,i,1)}advertisingClickLog(e,t,i){this.advertisingLog(e,t,i,2)}advertisingJumpLog(e,t,i){this.advertisingLog(e,t,i,3)}onAdTouch({adItem:e,tryPlaySuccess:t,tryPlayFail:i,navigateToFail:n,navigateToSuccess:r}){var a=this;a.advertisingLog(e.location_id,e.config_id,e.iconid,2),a.navigateToMiniProgram({app_id:e.appid,path:e.path},function(n){a.log("jump success"),r&&r(n),a.advertisingLog(e.location_id,e.config_id,e.iconid,3),0==e.gc_status||e.try_status||(a.tryPlaySetting={adItem:e,tryPlaySuccess:t,tryPlayFail:i,startTime:Date.now()})},n)}getBannerStyle(e=0,t=20,i){this.sysInfo||(this.sysInfo=wx.getSystemInfoSync());let n=this.sysInfo,r=0,a=n.screenWidth,o=n.screenHeight,s=i||this.bannerAdWith,l=(a-s)/2,d=.3,u=1334,h=750;this.ratio||(this.ratio=h/o),a<=o&&(u=750,h=1334,this.ratio=u/a,i?l=(a-(s=i/this.ratio))/2:(s=a-2*(l=t/this.ratio/2),"undefined"!=typeof qq?d=.23:"undefined"!=typeof tt&&(d=.3481875,s=.8*a,l=.1*a))),e/=this.ratio;var c=s*d,f=n.screenHeight-c-.05-e/this.ratio;return n.safeArea&&(r=(o-n.safeArea.bottom)/2.5),{left:l,height:c,width:s,top:f-r}}bannerResizeHandle(e,t,i,n,r=0){if(this.log("sdk BannerAd resize: ",t),i)return t.width=t.realWidth||t.width,t.height=t.realHeight||t.height,t.realWidth=t.realWidth||t.width,t.realHeight=t.realHeight||t.height,void(n&&n(e,t));if(n&&n(e,t),"undefined"!=typeof qq)return;let a=wx.getSystemInfoSync(),o=a.safeArea?(a.screenHeight-a.safeArea.bottom)/2.5:0;var s=a.screenWidth/2-(t.realWidth||t.width)/2+.1,l=a.screenHeight-(t.realHeight||t.height)-o-r/this.ratio;this.log("realLeft:"+s,"realTop:"+l,"safeAreaBottomOffset:"+o),e&&e.style?(e.style.left=s,e.style.top=l):this.log("sdk BannerAd has been destroyed, please check code.")}createBannerAdByAdId({style:e=null,bannerAdUnitId:t="",bottomOffset:i=0,defaultWidthDiff:r=20,bannerWidth:a,onResize:o}={}){let s=this;if(!s.fitPlatform())return null;if(!t)return s.error(n.default[106]),null;let l=!!e;if(e=e||s.getBannerStyle(i,r,a),s.log("style",e),!wx.createBannerAd)return s.error("Not find Function wx.createBannerAd !"),null;let d=wx.createBannerAd({adUnitId:t,style:e}),u=function(e){d.offResize(u),s.bannerResizeHandle(d,e,l,o,i)};return d.onResize(u),d.onLoad(function(){s.BannerAdList.push(d)}),d.onError(function(e){s.log("sdk BannerAd load error: ",e)}),d.hide(),d}resetBannerStyle({style:e=null,bannerAd:t,bottomOffset:i=0,defaultWidthDiff:n=20,bannerWidth:r,onResize:a}={}){var o=this;if(o.fitPlatform()&&t){var s=!!e;e=e||o.getBannerStyle(i,n,r);let l=function(e){t.offResize(l),o.bannerResizeHandle(t,e,s,a,i)};return t.onResize(l),t.style.left=e.left,t.style.top=e.top,t.style.width=e.width,t}}showBanner({style:e,bottomOffset:t=0,onResize:i,fail:n,success:r}={}){var a=this;if(!a.fitPlatform()||!a.isInit()||a.isBrowser())return;if(a.showTime){if(Date.now()-a.showTime<1e3)return void a.log("bannerAd refresh too fast, Ignore this time");a.hideBanner()}let o=a.BannerAdList;if(0===o.length){var s="No BannerAd, Try again later";return a.log(s),n&&n(s),void a.preloadAllBannerAd()}var l=o[0];let d=wx.getSystemInfoSync();d&&a.sysInfo&&d.deviceOrientation!==a.sysInfo.deviceOrientation?(a.sysInfo=d,a.resetBannerStyle({bannerAd:l,bottomOffset:t})):t>0&&(l.style.top-=t/a.ratio),e&&a.resetBannerStyle({bannerAd:l,style:e,onResize:i}),l.show().then(()=>{a.showTime=Date.now(),r&&r()}).catch(e=>{n&&n(e)}),a.preloadAllBannerAd()}showBannerWithStyle(){this.error("api showBannerWithStyle \u5df2\u5e9f\u5f03\uff0c\u529f\u80fd\u5df2\u5408\u5e76\u81f3 showBanner")}preloadAllBannerAd(){if(!this.getBannerAdUnitIdArr())return null;var e=this.BANNERAD_MAX_COUNT-this.BannerAdList.length;if(e<=0)return null;for(let i=0;i<e;i++){var t=this.getBannerAdUnitId();t?this.createBannerAdByAdId({bannerAdUnitId:t}):this.error("bannerAd UnitId can not be null")}}getBannerAdUnitIdArr(){var e=this.getConfig(4);if(e&&e.bannerAdUnitId)return e.bannerAdUnitId.split("|");var t=this.getConfig(6);if(t){var i=[];for(var n in t)i.push(t[n].adunit_id);return i}return this.error("no banner config\uff0ccan not preload bannerAd"),null}getBannerAdUnitId(){var e=this.getBannerAdUnitIdArr();return this.bannerAdUnitIdIndex1=this.getNewArrayIndex(this.bannerAdUnitIdIndex1,e.length),e[this.bannerAdUnitIdIndex1]}hideBanner(){this.showTime&&(this.showTime=null,this.BannerAdList[0]&&(this.BannerAdList[0].hide(),this.BannerAdList[0].destroy(),this.BannerAdList.shift()),this.preloadAllBannerAd())}getAllDiversionData(){return this.diversionData}getCustomConfigByKey(e){if(!this.isInit())return null;var t=this.getConfig(2);return t?t[e]:null}}},{"./Md5":2,"./errMsg":3,"./mockWeiXinApi":4,"./sdk_conf":5}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});class n{constructor(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(e){const t=n.hexChars,i=n.hexOut;let r,a,o,s;for(s=0;s<4;s+=1)for(a=8*s,r=e[s],o=0;o<8;o+=2)i[a+1+o]=t.charAt(15&r),r>>>=4,i[a+0+o]=t.charAt(15&r),r>>>=4;return i.join("")}static _md5cycle(e,t){let i=e[0],n=e[1],r=e[2],a=e[3];n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&r|~n&a)+t[0]-680876936|0)<<7|i>>>25)+n|0)&n|~i&r)+t[1]-389564586|0)<<12|a>>>20)+i|0)&i|~a&n)+t[2]+606105819|0)<<17|r>>>15)+a|0)&a|~r&i)+t[3]-1044525330|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&r|~n&a)+t[4]-176418897|0)<<7|i>>>25)+n|0)&n|~i&r)+t[5]+1200080426|0)<<12|a>>>20)+i|0)&i|~a&n)+t[6]-1473231341|0)<<17|r>>>15)+a|0)&a|~r&i)+t[7]-45705983|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&r|~n&a)+t[8]+1770035416|0)<<7|i>>>25)+n|0)&n|~i&r)+t[9]-1958414417|0)<<12|a>>>20)+i|0)&i|~a&n)+t[10]-42063|0)<<17|r>>>15)+a|0)&a|~r&i)+t[11]-1990404162|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&r|~n&a)+t[12]+1804603682|0)<<7|i>>>25)+n|0)&n|~i&r)+t[13]-40341101|0)<<12|a>>>20)+i|0)&i|~a&n)+t[14]-1502002290|0)<<17|r>>>15)+a|0)&a|~r&i)+t[15]+1236535329|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&a|r&~a)+t[1]-165796510|0)<<5|i>>>27)+n|0)&r|n&~r)+t[6]-1069501632|0)<<9|a>>>23)+i|0)&n|i&~n)+t[11]+643717713|0)<<14|r>>>18)+a|0)&i|a&~i)+t[0]-373897302|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&a|r&~a)+t[5]-701558691|0)<<5|i>>>27)+n|0)&r|n&~r)+t[10]+38016083|0)<<9|a>>>23)+i|0)&n|i&~n)+t[15]-660478335|0)<<14|r>>>18)+a|0)&i|a&~i)+t[4]-405537848|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&a|r&~a)+t[9]+568446438|0)<<5|i>>>27)+n|0)&r|n&~r)+t[14]-1019803690|0)<<9|a>>>23)+i|0)&n|i&~n)+t[3]-187363961|0)<<14|r>>>18)+a|0)&i|a&~i)+t[8]+1163531501|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&a|r&~a)+t[13]-1444681467|0)<<5|i>>>27)+n|0)&r|n&~r)+t[2]-51403784|0)<<9|a>>>23)+i|0)&n|i&~n)+t[7]+1735328473|0)<<14|r>>>18)+a|0)&i|a&~i)+t[12]-1926607734|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n^r^a)+t[5]-378558|0)<<4|i>>>28)+n|0)^n^r)+t[8]-2022574463|0)<<11|a>>>21)+i|0)^i^n)+t[11]+1839030562|0)<<16|r>>>16)+a|0)^a^i)+t[14]-35309556|0)<<23|n>>>9)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n^r^a)+t[1]-1530992060|0)<<4|i>>>28)+n|0)^n^r)+t[4]+1272893353|0)<<11|a>>>21)+i|0)^i^n)+t[7]-155497632|0)<<16|r>>>16)+a|0)^a^i)+t[10]-1094730640|0)<<23|n>>>9)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n^r^a)+t[13]+681279174|0)<<4|i>>>28)+n|0)^n^r)+t[0]-358537222|0)<<11|a>>>21)+i|0)^i^n)+t[3]-722521979|0)<<16|r>>>16)+a|0)^a^i)+t[6]+76029189|0)<<23|n>>>9)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n^r^a)+t[9]-640364487|0)<<4|i>>>28)+n|0)^n^r)+t[12]-421815835|0)<<11|a>>>21)+i|0)^i^n)+t[15]+530742520|0)<<16|r>>>16)+a|0)^a^i)+t[2]-995338651|0)<<23|n>>>9)+r|0,n=((n+=((a=((a+=(n^((i=((i+=(r^(n|~a))+t[0]-198630844|0)<<6|i>>>26)+n|0)|~r))+t[7]+1126891415|0)<<10|a>>>22)+i|0)^((r=((r+=(i^(a|~n))+t[14]-1416354905|0)<<15|r>>>17)+a|0)|~i))+t[5]-57434055|0)<<21|n>>>11)+r|0,n=((n+=((a=((a+=(n^((i=((i+=(r^(n|~a))+t[12]+1700485571|0)<<6|i>>>26)+n|0)|~r))+t[3]-1894986606|0)<<10|a>>>22)+i|0)^((r=((r+=(i^(a|~n))+t[10]-1051523|0)<<15|r>>>17)+a|0)|~i))+t[1]-2054922799|0)<<21|n>>>11)+r|0,n=((n+=((a=((a+=(n^((i=((i+=(r^(n|~a))+t[8]+1873313359|0)<<6|i>>>26)+n|0)|~r))+t[15]-30611744|0)<<10|a>>>22)+i|0)^((r=((r+=(i^(a|~n))+t[6]-1560198380|0)<<15|r>>>17)+a|0)|~i))+t[13]+1309151649|0)<<21|n>>>11)+r|0,n=((n+=((a=((a+=(n^((i=((i+=(r^(n|~a))+t[4]-145523070|0)<<6|i>>>26)+n|0)|~r))+t[11]-1120210379|0)<<10|a>>>22)+i|0)^((r=((r+=(i^(a|~n))+t[2]+718787259|0)<<15|r>>>17)+a|0)|~i))+t[9]-343485551|0)<<21|n>>>11)+r|0,e[0]=i+e[0]|0,e[1]=n+e[1]|0,e[2]=r+e[2]|0,e[3]=a+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(n.stateIdentity),this}appendStr(e){const t=this._buffer8,i=this._buffer32;let r,a,o=this._bufferLength;for(a=0;a<e.length;a+=1){if((r=e.charCodeAt(a))<128)t[o++]=r;else if(r<2048)t[o++]=192+(r>>>6),t[o++]=63&r|128;else if(r<55296||r>56319)t[o++]=224+(r>>>12),t[o++]=r>>>6&63|128,t[o++]=63&r|128;else{if((r=1024*(r-55296)+(e.charCodeAt(++a)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[o++]=240+(r>>>18),t[o++]=r>>>12&63|128,t[o++]=r>>>6&63|128,t[o++]=63&r|128}o>=64&&(this._dataLength+=64,n._md5cycle(this._state,i),o-=64,i[0]=i[16])}return this._bufferLength=o,this}appendAsciiStr(e){const t=this._buffer8,i=this._buffer32;let r,a=this._bufferLength,o=0;for(;;){for(r=Math.min(e.length-o,64-a);r--;)t[a++]=e.charCodeAt(o++);if(a<64)break;this._dataLength+=64,n._md5cycle(this._state,i),a=0}return this._bufferLength=a,this}appendByteArray(e){const t=this._buffer8,i=this._buffer32;let r,a=this._bufferLength,o=0;for(;;){for(r=Math.min(e.length-o,64-a);r--;)t[a++]=e[o++];if(a<64)break;this._dataLength+=64,n._md5cycle(this._state,i),a=0}return this._bufferLength=a,this}getState(){const e=this._state;return{buffer:String.fromCharCode.apply(null,this._buffer8),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){const t=e.buffer,i=e.state,n=this._state;let r;for(this._dataLength=e.length,this._bufferLength=e.buflen,n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],r=0;r<t.length;r+=1)this._buffer8[r]=t.charCodeAt(r)}end(e=!1){const t=this._bufferLength,i=this._buffer8,r=this._buffer32,a=1+(t>>2);let o;if(this._dataLength+=t,i[t]=128,i[t+1]=i[t+2]=i[t+3]=0,r.set(n.buffer32Identity.subarray(a),a),t>55&&(n._md5cycle(this._state,r),r.set(n.buffer32Identity)),(o=8*this._dataLength)<=4294967295)r[14]=o;else{const e=o.toString(16).match(/(.*?)(.{0,8})$/);if(null===e)return;const t=parseInt(e[2],16),i=parseInt(e[1],16)||0;r[14]=t,r[15]=i}return n._md5cycle(this._state,r),e?this._state:n._hex(this._state)}}i.default=n,n.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),n.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n.hexChars="0123456789abcdef",n.hexOut=[],n.onePassHasher=new n,"5d41402abc4b2a76b9719d911017c592"!==n.hashStr("hello")&&console.error("Md5 self test failed.")},{}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={100:{code:100,msg:"\u8bf7\u6c42\u53c2\u6570\u4e3a\u7a7a\u3002"},101:{code:101,msg:"\u8df3\u8f6c\u5c0f\u7a0b\u5e8fappId\u4e0d\u80fd\u4e3a\u7a7a\u3002"},102:{code:102,msg:"\u521d\u59cb\u5316\u5931\u8d25\u3002"},103:{code:103,msg:'"\u57cb\u70b9\u6ca1\u6709\u6570\u636e\u4e0a\u4f20!"'},104:{code:104,msg:'"\u7528\u6237\u62d2\u7edd\u6388\u6743!"'},105:{code:105,msg:'"\u66f4\u65b0\u7528\u6237\u4fe1\u606f\u5931\u8d25!"'},106:{code:106,msg:'"banner\u5e7f\u544a\u5355\u5143id\u4e0d\u80fd\u4e3a\u7a7a!"'},200:{code:200,msg:"\u63a5\u53e3\u8fd4\u56de\u6570\u636e\u4e3a\u7a7a\u3002"},201:{code:201,msg:"\u63a5\u53e3\u8bf7\u6c42\u5931\u8d25\u3002"},1e3:{code:1e3,msg:"\u8c03\u7528\u4e86\u6307\u5b9a\u5e73\u53f0api\uff0c\u8bf7\u53d1\u5e03\u5230\u76f8\u5e94\u5e73\u53f0\u8fd0\u884c\u3002"},1001:{code:1001,msg:"\u6d4f\u89c8\u5668\u6a21\u62df\u5e73\u53f0api\u5931\u8d25\u7ed3\u679c\u3002"},1002:{code:1002,msg:"\u6d4f\u89c8\u5668\u6a21\u62df\u5e73\u53f0api\u6210\u529f\u7ed3\u679c\u3002"},1003:{code:1003,msg:"\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a!"},1004:{code:1004,msg:"\u672a\u652f\u6301\u7684\u5e73\u53f0api\uff0c\u53ef\u80fd\u56e0\u4e3a\u5e73\u53f0\u7248\u672c\u8fc7\u4f4e\uff0c\u8bf7\u66f4\u65b0\u5230\u65b0\u7248\u91cd\u8bd5!"},1005:{code:1005,msg:"not fit platform!"}}},{}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=e("./errMsg");i.default=function(){let e="undefined"==typeof window?{}:window;if(e.wx)return;let t={model:"iPhone X",pixelRatio:3,windowWidth:375,windowHeight:812,system:"iOS 10.0.1",language:"zh_CN",version:"7.0.4",screenWidth:375,screenHeight:812,SDKVersion:"2.12.1",brand:"devtools",fontSizeSetting:16,benchmarkLevel:1,batteryLevel:100,statusBarHeight:44,safeArea:{right:375,bottom:812,left:0,top:44,width:375,height:768},deviceOrientation:"portrait",platform:"devtools",devicePixelRatio:3},i={mockSuccessOrFailDelay:function(e,t,i){let r=Math.random();if(e&&.5<r){let t={code:n.default[1001].code,msg:n.default[1001].msg+"api\uff1a"+this.name};e.fail&&e.fail(i||t),console.log(t)}e&&r<=.5&&e.success&&setTimeout(function(){let i={code:n.default[1002].code,msg:n.default[1002].msg+"api\uff1a"+this.name};console.log(i),e.success(t||i)},800)},mockSuccessOrFail:function(e,t,i){let r=Math.random();if(e&&.5<r){let t={code:n.default[1001].code,msg:n.default[1001].msg+"api\uff1a"+this.name};e.fail&&e.fail(i||t),console.log(t)}if(e&&r<=.5){let i={code:n.default[1002].code,msg:n.default[1002].msg+"api\uff1a"+this.name};console.log(i),e.success&&e.success(t||i)}},getSystemInfoSync:function(){return t},getLaunchOptionsSync:function(){return{scene:1001,query:{},referrerInfo:{}}},login:function(e){return new Promise((t,i)=>{e&&e.fail&&(e.fail(n.default[1001]),i(n.default[1001]))})},showShareMenu:function(){},onShareAppMessage:function(){},shareAppMessage:function(e){this.mockSuccessOrFailDelay.call(this.shareAppMessage,e)},onHide:function(){},onShow:function(){},navigateToMiniProgram:function(e){this.mockSuccessOrFail.call(this.navigateToMiniProgram,e)},getSystemInfo:function(e){this.mockSuccessOrFail.call(this.getSystemInfo,e,t)},getNetworkType:function(e){this.mockSuccessOrFail.call(this.getNetworkType,e,{networkType:"wifi"})},createUserInfoButton:function(){return{onTap:function(){},show:function(){},hide:function(){},destroy:function(){}}},showToast:function(e){this.mockSuccessOrFail.call(this.showToast,e)},hideToast:function(e){this.mockSuccessOrFail.call(this.hideToast,e)},getSetting:function(e){this.mockSuccessOrFail.call(this.getSetting,e,{authSetting:{}})},checkSession:function(e){this.mockSuccessOrFail.call(this.checkSession,e)},getUserInfo:function(e){e&&e.fail&&e.fail(n.default[1001])},showLoading:function(){},hideLoading:function(){},postMessage:function(){},setUserCloudStorage:function(){},createRewardedVideoAd:function(){return{onLoad:function(){},load:function(){return new Promise(e=>{e(1)})},show:function(){this.onCloseC&&this.onCloseC({isEnded:!0})},onClose:function(e){this.onCloseC=e},onError:function(){}}},getStorageSync:function(e){return localStorage.getItem(e)},setStorageSync:function(e,t){var i="object"==typeof t?JSON.stringify(t):t;localStorage.setItem(e,i)},request:function(){},reportUserBehaviorBranchAnalytics:function(e){console.log(e)},createImage:function(){return Image&&new Image||document&&document.createElement("img")}};Object.defineProperty(e,"wx",{value:i,writable:!1,configurable:!1})}},{"./errMsg":3}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={env:"prod",game:"tatajuntuan-toutiao",version:"1.1.1",dev_platform:"toutiao",llewan_sdk_version:"3.1.1",md5_key:"$5dfjr$%dsadsfdsii",env_apis:{prod:{ip1:"https://login.llewan.com:1799",ip2:"https://game.llewan.com:1899",ip3:"https://log.llewan.com:1999",ip4:"https://res.g.llewan.com"},anonymous:{ip1:"https://login.fdn4i.com:2799",ip2:"https://game.fdn4i.com:2899",ip3:"https://log.fdn4i.com:2999",ip4:"https://res.fdn4i.com"},test:{ip1:"https://login.test.llewan.com",ip2:"https://game.test.llewan.com",ip3:"https://log.test.llewan.com",ip4:"https://res.test.llewan.com"}},default_upload_row_count:20,default_upload_interval:120,game_online:!1,share_time_limit:2,imageCacheMax:50,default_shareInfo:{imageUrl:"https://res.g.llewan.com/uploadfile/common/20190522/20190522163612_2971.jpg",query:"",sysid:-1,title:"\u6839\u672c\u505c\u4e0d\u4e0b\u6765\u4e0d\u73a9\u7684\u6e38\u620f",type:0},canShare:!0}},{}]},{},[1]);