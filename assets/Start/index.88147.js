window.__require=function t(e,n,o){function i(a,r){if(!n[a]){if(!e[a]){var l=a.split("/");if(l=l[l.length-1],!e[l]){var p="function"==typeof __require&&__require;if(!r&&p)return p(l,!0);if(c)return c(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){return i(e[a][1][t]||t)},f,f.exports,t,e,n,o)}return n[a].exports}for(var c="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({Start:[function(t,e,n){"use strict";cc._RF.push(e,"0e9a5h8WIBHRZvO9jKqjZ89","Start");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,a=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,n,a):i(e,n))||a);return c>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Apply/Apply"),l=t("../Apply/audio_mgr"),p=t("../Apply/Data"),f=t("../Apply/Plat"),u=t("../Export/Export"),d=t("../Main/Main"),y=cc._decorator,_=y.ccclass,s=(y.property,lw._decorator.metadata),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._autoBind=!0,e._camera_came=null,e._bg=null,e._drag_player=null,e._btn_start=null,e._btn_diam=null,e._lab_diam=null,e._btn_coin=null,e._lab_coin=null,e._btn_set=null,e._btn_shop=null,e._attri=null,e._pro_lev=null,e._lab_aft1=null,e._lab_aft2=null,e._lab_now=null,e._lab_next1=null,e._lab_next2=null,e._btn_egg=null,e.rich={coin:null,diam:null,coinD:null,diamD:null},e.shop=!1,e}var n,o,y,g,h,b,v,m,w,B,S,k,O,j,x,A,T,N,C;return i(e,t),n=e,e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.instance=this,this.init_Rich(),this.initAttri(),this.loadeDrag(),console.log("warehouse>>>>>>",p.default.warehouse),l.default.initAudio(),this.refreshlevel(),lw.viewMgr.close(p.Game_inter.Load),f.default.preScreencap(),u.default.instance.hideBanner();var o=this.node.getChildByName("bannerLight1");u.default.instance.bannerNode[0]=o,console.log("userData>>>>>>>>>>>>>>",d.default.instance.userData)},e.prototype.refreshlevel=function(){var t=5*Math.floor(p.default.game_level.num/5)+1;this._lab_aft1.string=t.toString(),this._lab_aft2.string=(t+1).toString(),this._lab_now.string=(t+2).toString(),this._lab_next1.string=(t+3).toString(),this._lab_next2.string=(t+4).toString();var e=p.default.game_level.num%5;this._pro_lev.progress=(e-1)/4},e.prototype.loadeDrag=function(){var t=this,e=p.default.warehouse[201].SKIN.now+1;p.default.warehouse[201].SKIN.trial&&(e=p.default.warehouse[201].SKIN.trial);var n="Sprite/DragonBones/player"+e;r.default.loadDragonBones(this._drag_player,"Start",n,function(){t._drag_player.armatureName="armatureName",t._drag_player.playAnimation("run",0)})},e.prototype.onEnable=function(){this._lab_now&&(this.refreshlevel(),l.default.stopMusic(),this.loadeDrag(),l.default.playMusic(l.BgmType.kMenu))},e.prototype.exprot=function(){},e.prototype._initUI=function(){var t=this;r.default.loadDras("Start","Sprite/Apply",function(e){for(var n=0;n<e.length;n++)"coin"==e[n].name&&(t.rich.coin=e[n]),"diam"==e[n].name&&(t.rich.diam=e[n]),"coinD"==e[n].name&&(t.rich.coinD=e[n]),"diamD"==e[n].name&&(t.rich.diamD=e[n])})},e.prototype._initEvent=function(){var t=this;this._attri.getChildByName("attk").on(cc.Node.EventType.TOUCH_START,function(){p.default.player_level_up(2)?t.initAttri():t.clickBtnCoin(),l.default.playEffect(l.SfxType.kclick)}),this._attri.getChildByName("hp").on(cc.Node.EventType.TOUCH_START,function(){p.default.player_level_up(1)?t.initAttri():t.clickBtnCoin(),l.default.playEffect(l.SfxType.kclick)}),this._attri.getChildByName("def").on(cc.Node.EventType.TOUCH_START,function(){p.default.player_level_up(3)?t.initAttri():t.clickBtnCoin(),l.default.playEffect(l.SfxType.kclick)})},e.prototype.onClose=function(){},e.prototype.initAttri=function(){var t=p.default.warehouse[201].data,e=function(e,n){e.getChildByName("num").getComponent(cc.Label).string="LV."+n.LV,e.getChildByName("coin").getComponent(cc.Label).string=t[n.LV].cofe};e(this._attri.getChildByName("attk"),p.default.warehouse[201].ATTK),e(this._attri.getChildByName("hp"),p.default.warehouse[201].HP),e(this._attri.getChildByName("def"),p.default.warehouse[201].DEF)},e.prototype.init_Rich=function(){this._lab_coin.string=p.default.warehouse[101].toString(),this._lab_diam.string=p.default.warehouse[102].toString()},e.prototype.clickBtnStart=function(){l.default.playEffect(l.SfxType.kclick);for(var t=0;t<p.default.warehouse[201].SKIN.skin.length;t++)if(!p.default.warehouse[201].SKIN.skin[t].is_get)return void lw.viewMgr.open(p.Game_inter.Trial,t+1);lw.viewMgr.open(p.Game_inter.Draw),u.default.instance.hideBanner()},e.prototype.clickBtnShop=function(){l.default.playEffect(l.SfxType.kclick),lw.viewMgr.open(p.Game_inter.Shop)},e.prototype.clickBtnDiam=function(){l.default.playEffect(l.SfxType.kclick),lw.viewMgr.open(p.Game_inter.Rich,"diam")},e.prototype.clickBtnEgg=function(){l.default.playEffect(l.SfxType.kclick),lw.viewMgr.open(p.Game_inter.Egg)},e.prototype.clickBtnSet=function(){l.default.playEffect(l.SfxType.kclick),lw.viewMgr.open(p.Game_inter.Set)},e.prototype.clickBtnCoin=function(){l.default.playEffect(l.SfxType.kclick),lw.viewMgr.open(p.Game_inter.Rich)},e.instance=null,c([s("cc.Camera"),a("design:type","function"==typeof(o="undefined"!=typeof cc&&cc.Camera)?o:Object)],e.prototype,"_camera_came",void 0),c([s("cc.Node"),a("design:type","function"==typeof(y="undefined"!=typeof cc&&cc.Node)?y:Object)],e.prototype,"_bg",void 0),c([s("dragonBones.ArmatureDisplay"),a("design:type","function"==typeof(g="undefined"!=typeof dragonBones&&dragonBones.ArmatureDisplay)?g:Object)],e.prototype,"_drag_player",void 0),c([s("cc.Button"),a("design:type","function"==typeof(h="undefined"!=typeof cc&&cc.Button)?h:Object)],e.prototype,"_btn_start",void 0),c([s("cc.Button"),a("design:type","function"==typeof(b="undefined"!=typeof cc&&cc.Button)?b:Object)],e.prototype,"_btn_diam",void 0),c([s("cc.Label"),a("design:type","function"==typeof(v="undefined"!=typeof cc&&cc.Label)?v:Object)],e.prototype,"_lab_diam",void 0),c([s("cc.Button"),a("design:type","function"==typeof(m="undefined"!=typeof cc&&cc.Button)?m:Object)],e.prototype,"_btn_coin",void 0),c([s("cc.Label"),a("design:type","function"==typeof(w="undefined"!=typeof cc&&cc.Label)?w:Object)],e.prototype,"_lab_coin",void 0),c([s("cc.Button"),a("design:type","function"==typeof(B="undefined"!=typeof cc&&cc.Button)?B:Object)],e.prototype,"_btn_set",void 0),c([s("cc.Button"),a("design:type","function"==typeof(S="undefined"!=typeof cc&&cc.Button)?S:Object)],e.prototype,"_btn_shop",void 0),c([s("cc.Node"),a("design:type","function"==typeof(k="undefined"!=typeof cc&&cc.Node)?k:Object)],e.prototype,"_attri",void 0),c([s("cc.ProgressBar"),a("design:type","function"==typeof(O="undefined"!=typeof cc&&cc.ProgressBar)?O:Object)],e.prototype,"_pro_lev",void 0),c([s("cc.Label"),a("design:type","function"==typeof(j="undefined"!=typeof cc&&cc.Label)?j:Object)],e.prototype,"_lab_aft1",void 0),c([s("cc.Label"),a("design:type","function"==typeof(x="undefined"!=typeof cc&&cc.Label)?x:Object)],e.prototype,"_lab_aft2",void 0),c([s("cc.Label"),a("design:type","function"==typeof(A="undefined"!=typeof cc&&cc.Label)?A:Object)],e.prototype,"_lab_now",void 0),c([s("cc.Label"),a("design:type","function"==typeof(T="undefined"!=typeof cc&&cc.Label)?T:Object)],e.prototype,"_lab_next1",void 0),c([s("cc.Label"),a("design:type","function"==typeof(N="undefined"!=typeof cc&&cc.Label)?N:Object)],e.prototype,"_lab_next2",void 0),c([s("cc.Button"),a("design:type","function"==typeof(C="undefined"!=typeof cc&&cc.Button)?C:Object)],e.prototype,"_btn_egg",void 0),n=c([_],e)}(lw.BaseView);n.default=g,cc._RF.pop()},{"../Apply/Apply":void 0,"../Apply/Data":void 0,"../Apply/Plat":void 0,"../Apply/audio_mgr":void 0,"../Export/Export":void 0,"../Main/Main":void 0}]},{},["Start"]);