window.__require=function e(t,n,r){function o(a,c){if(!n[a]){if(!t[a]){var u=a.split("/");if(u=u[u.length-1],!t[u]){var s="function"==typeof __require&&__require;if(!c&&s)return s(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+a+"'")}a=u}var p=n[a]={exports:{}};t[a][0].call(p.exports,function(e){return o(t[a][1][e]||e)},p,p.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({Shop:[function(e,t,n){"use strict";cc._RF.push(t,"2c06bZ17jpDdb9QcECmvrGG","Shop");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../Apply/Data"),u=e("../Export/Export"),s=e("../Framework/View/ViewZOrder"),p=e("../Start/Start"),l=cc._decorator,f=l.ccclass,d=(l.property,lw._decorator.metadata),y=function(e){function t(){var t=e.call(this)||this;return t._autoBind=!0,t._btn_close=null,t._btn_buy=null,t._sp_rich=null,t._lab_buy=null,t._player=null,t.buyNum=null,t.LayerOrder=s.ViewZOrder.Shop,t}var n,r,l,y,h;return o(t,e),t.prototype.init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<this._player.children.length;n++){var r=this._player.children[n].getChildByName("drag").getComponent(dragonBones.ArmatureDisplay);this.loadMonster(n+1,r)}this._lab_buy.node.parent.active=!1,u.default.instance.showBanner(),p.default.instance.shop=!0},t.prototype.loadMonster=function(e,t){var n="Sprite/DragonBones/player"+e;cc.assetManager.getBundle("Start").loadDir(n,function(e,n){e||n.length<=0||n.forEach(function(e){e instanceof dragonBones.DragonBonesAsset&&(t.dragonAsset=e),e instanceof dragonBones.DragonBonesAtlasAsset&&(t.dragonAtlasAsset=e),t.armatureName="armatureName",t.playAnimation("run",0)})})},t.prototype._initUI=function(){},t.prototype._initEvent=function(){for(var e=this,t=function(t){var r=n._player.children[t];r.on(cc.Node.EventType.TOUCH_END,function(){e._player.children[0].scaleX=1,e._player.children[0].scaleY=1,e._player.children[1].scaleX=1,e._player.children[1].scaleY=1,e._player.children[2].scaleX=1,e._player.children[2].scaleY=1,r.scaleX=1.1,r.scaleY=1.1,e.initBuy(t)})},n=this,r=0;r<this._player.children.length;r++)t(r)},t.prototype.initBuy=function(e){c.default.warehouse[201].SKIN.skin[e].is_get?(this.buyNum=null,this._lab_buy.node.parent.active=!1,c.default.warehouse[201].SKIN.now=e,p.default.instance.loadeDrag()):(this.buyNum=e,this._lab_buy.node.parent.active=!0,this._lab_buy.string=c.default.warehouse[201].SKIN.skin[e].price,1==c.default.warehouse[201].SKIN.skin[e].type?this._sp_rich.spriteFrame=p.default.instance.rich.coin:this._sp_rich.spriteFrame=p.default.instance.rich.diam)},t.prototype.onClose=function(){},t.prototype.clickBtnClose=function(){u.default.instance.hideBanner(),this.node.active=!1,p.default.instance.shop=!1},t.prototype.clickBtnBuy=function(){if(this.buyNum){var e=0,t="coin",n=101;1==c.default.warehouse[201].SKIN.skin[this.buyNum].type?e=c.default.warehouse[101]:(e=c.default.warehouse[102],n=102,t="diam");var r=c.default.warehouse[201].SKIN.skin[this.buyNum].price;r<=e?(c.default.warehouse[201].SKIN.skin[this.buyNum].is_get=!0,c.default.ware_change(n,-r),this.initBuy(this.buyNum)):lw.viewMgr.open(c.Game_inter.Rich,t)}},i([d("cc.Button"),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.Button)?n:Object)],t.prototype,"_btn_close",void 0),i([d("cc.Button"),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.Button)?r:Object)],t.prototype,"_btn_buy",void 0),i([d("cc.Sprite"),a("design:type","function"==typeof(l="undefined"!=typeof cc&&cc.Sprite)?l:Object)],t.prototype,"_sp_rich",void 0),i([d("cc.Label"),a("design:type","function"==typeof(y="undefined"!=typeof cc&&cc.Label)?y:Object)],t.prototype,"_lab_buy",void 0),i([d("cc.Node"),a("design:type","function"==typeof(h="undefined"!=typeof cc&&cc.Node)?h:Object)],t.prototype,"_player",void 0),i([f,a("design:paramtypes",[])],t)}(lw.BaseView);n.default=y,cc._RF.pop()},{"../Apply/Data":void 0,"../Export/Export":void 0,"../Framework/View/ViewZOrder":void 0,"../Start/Start":void 0}]},{},["Shop"]);